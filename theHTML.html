<!DOCTYPE html>
<html>
  <head>


    <script type="text/javascript" src="jquery-1.6.2.min.js"></script>
    <script src="http://maps.googleapis.com/maps/api/js?sensor=false" type="text/javascript"></script>
    

    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
   
    <title>Map</title>
    
    <style>

    #map{
     	  height: 500px;
        width: 500px;
    }

    </style>
  </head>

  <body>

    <input id="zipInput" type="number"/>
  	<button id="demo" onclick="changeLocation()" type="button">Go</button>
    <button id="myLoc" onclick="flyToMyLocation()" type="button"> My Location</button>

    <div id="map"></div>
    <div id="test"> </div>

    <script>
    		    //This script tag block goes to bottom of the webpage

      	var curr_lat = 0;
      	var curr_long = 0;
        var zip = 0;

		    var x = document.getElementById('test');

        var mymap;

        function initMap(){

                //38.627003, -90.199402 St. Louis area  (default)
            var stl_coors = new google.maps.LatLng(38.627003, -90.199402);
            var mapOptions = {
            zoom: 10,
            center: stl_coors,
            //mapTypeId: 'terrain'
          };

          mymap = new google.maps.Map(document.getElementById('map'),
          mapOptions);

        }

        function changeLocation(){
          var new_lat = 0; 
          var new_lng = 0;
          var myZip = document.getElementById('zipInput').value;
          test.innerHTML = "Move to "+myZip;
          
          var geocoder = new google.maps.Geocoder();
          geocoder.geocode({ 'address': myZip }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    new_lat = results[0].geometry.location.lat();
                    new_lng = results[0].geometry.location.lng();

                  //  test.innerHTML = new_lat + ", " + new_lng;
                } else {
                    alert("Request failed.");
                }


                test.innerHTML = new_lat + ", " + new_lng;
                mymap.setCenter(new google.maps.LatLng(new_lat, new_lng));
                mymap.setZoom(10);
            });
           
        }

        function flyToMyLocation() {
           
                mymap.setCenter(new google.maps.LatLng(38.632499, -90.227847));
                mymap.setZoom(15);
        }


    </script>

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB-rOcfVyM_WepTQEdwU8hdfCXb7MggUXk&callback=initMap"> </script>

  </body>
</html>